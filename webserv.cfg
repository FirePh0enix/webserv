server {
    server_name "localhost"
    listen "0.0.0.0:9999"

    error_page 404 "www/error404.html"
    max_content_length 1024

    location "/upload" {
        methods GET,POST
        root "sites/demo/upload"
        index enable
        default "index.html"

        cgi "php" "/usr/bin/php-cgi"

        upload_dir "site/upload/files"
    }

    location "/php" {
        methods GET,POST
        root "sites/demo/php"
        index enable
        default "index.php"

        cgi "php" "/usr/bin/php-cgi"
    }

    location "/python" {
        methods GET,POST
        root "sites/demo/python"
        index enable
        default "index.py"

        cgi "py" "/usr/bin/python3"
    }

    location "/rust" {
        methods GET,POST
        root "sites/demo/rust"
        index enable
        default "index.rsc"

        cgi "rsc" "/usr/bin/env"
    }

    location "/bash" {
        methods GET,POST
        root "sites/demo/bash"
        index enable
        default "index.sh"

        cgi "sh" "/usr/bin/bash"
    }
}
